apply plugin: 'java'
apply plugin: 'maven'

version = '1.0.0-beta4-SNAPSHOT'

repositories {
  mavenCentral()
}

task wrapper(type: Wrapper) {
  gradleVersion = '2.0'
}

dependencies {
  compile "org.codehaus.groovy:groovy-all:2.4.2"
  compile "org.springframework:spring-web:4.1.5.RELEASE"
  compile "org.apache.httpcomponents:httpclient:4.3.5"
  compile "com.fasterxml.jackson.core:jackson-databind:2.5.1"

  testCompile "org.spockframework:spock-core:0.7-groovy-2.0"
  testCompile "com.rabbitmq:amqp-client:3.5.0"
}

task pom << {
  pom {
    project {
      groupId 'com.novemberain.hop'
      artifactId 'hop'
      version version

      inceptionYear '2014'
      licenses {
        license {
          name 'The Apache Software License, Version 2.0'
          url 'http://www.apache.org/licenses/LICENSE-2.0.txt'
          distribution 'repo'
        }
      }
    }
  }.writeTo("pom.xml")
}
